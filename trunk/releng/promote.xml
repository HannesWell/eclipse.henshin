<project default="run" name="org.eclipse.emft.henshin/releng/promote.xml - Promote a build from build server to production server">
	<target name="run">
		<property name="promote.properties" value="promote.properties"/>
		<property file="${promote.properties}"/>
		<property file="build.properties"/>

		<!-- calculate workspaceDir as parent of this folder, the project's .releng folder (relengBuilderDir) -->
		<property name="relengBuilderDir" value="${basedir}"/>
		<dirname file="${relengBuilderDir}" property="workspaceDir"/>

		<!-- build directory -->
		<property name="writableBuildRoot" value="${relengBuilderDir}/build"/>

		<!-- 
		 can be simple path, eg., 
		 ${writableBuildRoot}/${buildType}${buildTimestamp} or longer, eg.,
		 ${writableBuildRoot}/${topprojectName}/${projectName}/downloads/drops/${version}/${buildType}${buildTimestamp} or
		 ${writableBuildRoot}/${topprojectName}/${projectName}/${subprojectName}/downloads/drops/${version}/${buildType}${buildTimestamp}
		-->
		<property name="buildDir" value="${writableBuildRoot}/${buildType}${buildTimestamp}"/>

		<!-- invoke common promotion script -->
		<property name="relengCommonBuilderDir" value="${workspaceDir}/org.eclipse.dash.common.releng"/>
		<ant antfile="${relengCommonBuilderDir}/promote.xml" dir="${relengCommonBuilderDir}"/>
	</target>
</project>